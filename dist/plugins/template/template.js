KindEditor.plugin("template",function(e){var a=this,i="template",l=a.lang(i+"."),t=a.pluginsPath+i+"/html/";function c(a){return t+a+"?ver="+encodeURIComponent(e.DEBUG?e.TIME:e.VERSION)}a.clickToolbar(i,function(){var t="";e.each(l.fileList,function(e,a){t+='<option value="'+e+'">'+a+"</option>"});var n='<div style="padding:10px 20px;"><div class="ke-header"><div class="ke-left">'+l.selectTemplate+" <select>"+t+'</select></div><div class="ke-right"><input type="checkbox" id="keReplaceFlag" name="replaceFlag" value="1" /> <label for="keReplaceFlag">'+l.replaceContent+'</label></div><div class="ke-clearfix"></div></div><iframe class="ke-textarea" frameborder="0" style="width:100%;height:340px;background-color:#FFF;"></iframe></div>',r=a.createDialog({name:i,width:560,title:a.lang(i),body:n,yesBtn:{name:a.lang("yes"),click:function(i){var l=e.iframeDoc(s);a[o[0].checked?"html":"insertHtml"](l.body.innerHTML).hideDialog().focus()}}}),d=e("select",r.div),o=e('[name="replaceFlag"]',r.div),s=e("iframe",r.div);o[0].checked=!0,s.attr("src",c(d.val())),d.change(function(){s.attr("src",c(this.value))})})});